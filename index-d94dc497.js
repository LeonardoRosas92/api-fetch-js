(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const l=document.querySelector("tbody"),u=t=>{const s=document.createElement("tr");s.classList.add("bg-white","border-b","hover:bg-gray-50");const n=document.createElement("td");n.classList.add("w-4","p-4");const i=document.createElement("div");i.classList.add("flex","items-center","justify-center"),i.innerHTML=t.id,n.appendChild(i),s.appendChild(n);const e=document.createElement("th");e.classList.add("flex","items-center","px-6","py-4","text-gray-900","whitespace-nowrap");const o=document.createElement("img");o.classList.add("w-10","h-10","rounded-full"),o.src=t.avatar;const r=document.createElement("div");r.classList.add("pl-3");const a=document.createElement("div");a.classList.add("text-base","font-semibold"),a.innerHTML=`${t.first_name} ${t.last_name}`;const c=document.createElement("div");c.classList.add("font-normal","text-gray-500"),c.innerHTML=t.email,r.appendChild(a),r.appendChild(c),e.appendChild(o),e.appendChild(r),s.appendChild(e),l.appendChild(s)},p=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},d=(t=[])=>{p(l),t.forEach(s=>{u(s)})},f=async()=>{const s=await fetch("https://reqres.in/api/users?&delay=10"),{data:n}=await s.json();return n},g=t=>{const s=Date.now(),n={data:t,timeSesion:s};localStorage.setItem("sesion",JSON.stringify(n))},h=()=>JSON.parse(localStorage.getItem("sesion")),y=()=>{const t=JSON.parse(localStorage.getItem("sesion"));return t?(new Date-new Date(t.timeSesion))/6e4<1:null},m=async()=>{if(y()){console.log("Obtenemos datos de localstorage");const s=h();d(s.data)}else{console.log("Obtenemos datos de api");const s=await f();g(s),d(s)}};window.getUsuarios=m;m();
